<%= render 'shared/form_errors', item: @list_book, name: 'list item' %>

<%= render layout: 'shared/form_group' do %>
	<%= f.label :list_id %><br/>
	<%= f.select(:list_id, nil, {:include_blank => true}) do %>
		<% @lists.each do |list| %>
			<%
				if @list_book
					selected = list.id == @list_book.list_id	
				elsif @list_id
					selected = list.id == @list_id
				end
			%>
			<%= content_tag(:option, list, value: list.id, selected: selected) %>
		<% end %>
	<% end %>
<% end %>

<%= render layout: 'shared/form_group' do %>
	<%= f.label :book_id %><br/>
	<%= f.select(:book_id, nil, {:include_blank => true}) do %>
		<% @books.each do |book| %>
			<%
				if @list_book
					selected = book.id == @list_book.book_id
				elsif @book_id
					selected = book.id == @book_id
				end
			%>
			<%= content_tag(:option, book, value: book.id, selected: selected) %>
		<% end %>
	<% end %>
<% end %>

<%= hidden_field_tag 'book', @book_id if @book_id and @book_id > 0  %>
<%= hidden_field_tag 'list', @list_id if @list_id and @list_id > 0  %>

<%= render 'shared/submit_button', f: f %>